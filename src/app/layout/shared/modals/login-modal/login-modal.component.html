<div class="modal-header">
  <h4 class="modal-title" *ngIf="!showForgotPassword">Welcome back! Glad to see you, Again!</h4>
  <h4 class="modal-title" *ngIf="showForgotPassword">
    <button type="button" class="btn btn-link p-0 me-2" (click)="toggleForgotPassword()">
      <i class="bi bi-arrow-left"></i>
    </button>
    Forgot Password?
  </h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="close()"></button>
</div>
<div class="modal-body">
  <ng-container *ngIf="!showForgotPassword">
    <form (ngSubmit)="onLogin()">
      <div class="mb-3">
        <input type="email" class="form-control" placeholder="Enter your email" [(ngModel)]="loginData.email" name="email" required>
      </div>
      <div class="mb-3">
        <input type="password" class="form-control" placeholder="Enter your password" [(ngModel)]="loginData.password" name="password" required>
      </div>
      <div class="mb-3 text-end">
        <a href="#" class="text-decoration-none" (click)="$event.preventDefault(); toggleForgotPassword()">Forgot Password?</a>
      </div>
      <button type="submit" class="btn btn-primary w-100">Login</button>
      <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
    </form>
    <div class="mt-3 text-center">
      <p>Or Login with</p>
      <div id="googleSignInButton"></div>
      <button *ngIf="!isGoogleButtonRendered" (click)="renderGoogleButton()" class="btn btn-outline-secondary">
        <i class="bi bi-google"></i> Google
      </button>
    </div>
    <div class="mt-3 text-center">
      <p>Don't have an account? <a href="#" class="text-decoration-none" (click)="$event.preventDefault(); openRegisterModal()">Register Now</a></p>
    </div>
  </ng-container>

  <ng-container *ngIf="showForgotPassword">
    <p class="text-muted">Don't worry! It occurs. Please enter the email address linked with your account.</p>
    <form (ngSubmit)="onForgotPassword()">
      <div class="mb-3">
        <input type="email" class="form-control" placeholder="Enter your email" [(ngModel)]="forgotPasswordEmail" name="email" required>
      </div>
      <button type="submit" class="btn btn-primary w-100">Send Reset Link</button>
    </form>
    <div *ngIf="forgotPasswordMessage" class="alert alert-info mt-3">{{ forgotPasswordMessage }}</div>
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
  </ng-container>
</div>
